/* this file was autogenerated from "livereload.script.ts", do not edit */
"use strict";(()=>{var b=(s,t,e)=>{if(!t.has(s))throw TypeError("Cannot "+e)};var o=(s,t,e)=>(b(s,t,"read from private field"),e?e.call(s):t.get(s)),i=(s,t,e)=>{if(t.has(s))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(s):t.set(s,e)},a=(s,t,e,l)=>(b(s,t,"write to private field"),l?l.call(s,e):t.set(s,e),e);var c=(s,t,e)=>(b(s,t,"access private method"),e);var u={CONNECTED:0,PRISTINE:1,SUSPENDED:2,ERROR:3},E,d,f,p,h,m,L,g=class{constructor(t){i(this,p);i(this,m);i(this,E,void 0);i(this,d,void 0);i(this,f,void 0);a(this,E,t),a(this,d,0),a(this,f,new D),c(this,m,L).call(this)}};E=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakSet,h=function(t){o(this,f).setStatus(t)},m=new WeakSet,L=function(){let t=new EventSource(o(this,E));t.addEventListener("error",()=>{c(this,p,h).call(this,u.ERROR),t.close();let e=Math.floor((1-Math.exp(-o(this,d)/60))*2e3);console.log(`Unable to connect to live reload server, retry in ${e} ms`),setTimeout(()=>{a(this,d,o(this,d)+1),c(this,m,L).call(this)},e)}),t.addEventListener("message",e=>{switch(JSON.parse(e.data).type){case"reload":{location.reload();break}case"suspend":c(this,p,h).call(this,u.SUSPENDED)}}),t.addEventListener("open",()=>{console.log("Connected to live reload server"),a(this,d,0),c(this,p,h).call(this,u.CONNECTED)}),addEventListener("beforeunload",()=>{console.log("close"),t.close()})};var k=String(Math.random()).replace(".",""),n=`livereload-${k}`,r,R,$,D=class{constructor(){i(this,R);i(this,r,void 0);c(this,R,$).call(this)}setStatus(t){var e,l,_,v,w,N,O,x,U;switch(t){case u.SUSPENDED:{(e=o(this,r))==null||e.classList.toggle("error",!1),(l=o(this,r))==null||l.classList.toggle("suspended",!0),(_=o(this,r))==null||_.setAttribute("title","toto");break}case u.CONNECTED:{(v=o(this,r))==null||v.classList.toggle("error",!1),(w=o(this,r))==null||w.classList.toggle("suspended",!1),(N=o(this,r))==null||N.removeAttribute("title");break}case u.ERROR:{(O=o(this,r))==null||O.classList.toggle("error",!0),(x=o(this,r))==null||x.classList.toggle("suspended",!1),(U=o(this,r))==null||U.setAttribute("title","tata");break}}}};r=new WeakMap,R=new WeakSet,$=function(){if(typeof document=="undefined")return;let t=document.createElement("style");document.head.appendChild(t);let e=t.sheet;e==null||e.insertRule(`.${n} { position: fixed; z-index: 10000; width: 40px; height: 40px; right: 20px; bottom: 20px; pointer-events:none; }`),e==null||e.insertRule(`.${n}.suspended, .${n}.error { pointer-events: all }`),e==null||e.insertRule("@keyframes suspended { 0% { opacity: 1; transform: scale(0); } 100% { opacity: 0; transform: scale(1); } }"),e==null||e.insertRule(`.${n}.suspended::after { animation-delay: 1s; }`),e==null||e.insertRule(`.${n}.suspended::before,.${n}.suspended::after { content: ''; position: absolute; inset: 0; background-color: black; border-radius: 50%; opacity: 1; transform: scale(0); animation: linear 2s infinite suspended; }`),e==null||e.insertRule("@keyframes error { 0% { opacity: 1; } 100% { opacity: 0.6; } }"),e==null||e.insertRule(`.${n}.error { background: rgb(204, 51, 0); border-radius: 50%; display: flex; justify-content: center; align-items: center; animation: linear 0.3s infinite alternate error; }`),e==null||e.insertRule(`.${n}.error::before { content: "!"; color: white; font-weight: bold; font-size: 25px; }`),a(this,r,document.createElement("div")),o(this,r).classList.add(n),document.body.append(o(this,r))};if(window.__FRUGAL__DEV__LIVRERELOAD===void 0){let s=new URL("/",location.href);s.port="4075",window.__FRUGAL__DEV__LIVRERELOAD=new g(s.href)}})();
